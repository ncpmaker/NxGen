import{_ as K,u as F,r as w,h as q,g as P,t as R,o as s,c as l,a as e,i as E,n as A,b as m,j as O,k as te,d as B,l as U,v as H,m as r,f as z,s as Y,p as M,e as C,q as se,x as le,y as W,F as a,z as v,A as n,B as J,C as ne,D as oe,T as Q,E as X,K as ae}from"./index-0rX5x8U8.js";const N=L=>(se("data-v-3a90d06c"),L=L(),le(),L),re={key:0,class:"sticky top-0 z-20 grid grid-cols-3 items-center border-b bg-blue-50 px-6 py-2 shadow-lg"},ie={class:"flex flex-row items-center justify-center gap-2"},ce=N(()=>e("span",{class:"material-icons text-3xl"}," space_dashboard ",-1)),de=[ce],ue=N(()=>e("span",{class:"material-icons text-3xl"}," history ",-1)),_e=[ue],pe=N(()=>e("span",{class:"material-icons text-3xl"}," timeline ",-1)),he=[pe],be={class:"flex flex-row items-center justify-end gap-4"},xe={class:"flex grow flex-col items-center"},ve={class:"flex flex-col gap-2 p-4"},ge={class:"flex flex-row items-center justify-between"},me=N(()=>e("h2",null,"Settings",-1)),fe={class:"flex flex-row items-center justify-between px-6"},we=N(()=>e("h3",null,"Enable Post Test",-1)),ye={class:"flex flex-row gap-2"},ke={class:"flex cursor-pointer flex-row items-center gap-4 rounded-xl px-2 py-1 transition-colors hover:bg-blue-100"},$e={class:"flex cursor-pointer flex-row items-center gap-4 rounded-xl px-2 py-1 transition-colors hover:bg-blue-100"},Ae={class:"flex cursor-pointer flex-row items-center gap-4 rounded-xl px-2 py-1 transition-colors hover:bg-blue-100"},Ce={class:"flex cursor-pointer flex-row items-center gap-4 rounded-xl px-2 py-1 transition-colors hover:bg-blue-100"},Te={key:1},Ve=N(()=>e("hr",{class:"m-2 border-stone-400"},null,-1)),Se={key:1},je={__name:"TheNavbar",setup(L){const T=F(),d=w({settingsModal:!1,settingsToggle(){this.settingsModal=!this.settingsModal}});function $(){M.set(0),T.push({name:"admin dashboard"})}const k=w(!1);async function I(){k.value=!0,await P({method:"delete",url:"https://nxgen-backend.onrender.com/api/v2/admin/logout",headers:{Authorization:`Bearer ${localStorage.getItem("ncpadmin_token")}`,Role:"admin"}}).then(()=>{Object.keys(localStorage).forEach(function(x){/^ncpadmin_/.test(x)&&localStorage.removeItem(x)}),T.push({name:"admin login"}),M.set(0),R.add({msg:"Logged out successfully.",duration:4e3})}).catch(x=>{x.response.status==401?T.push({name:"admin login"}):R.add({msg:x.response.data,duration:4e3})}).finally(()=>k.value=!1)}const D=w(!1),f=w({A1:!1,B1:!1,C1:!1,D1:!1});q(async()=>{await P({method:"get",url:"https://nxgen-backend.onrender.com/api/v2/enable-post-test",headers:{Authorization:`Bearer ${localStorage.getItem("ncpadmin_token")}`,Role:"admin"}}).then(x=>{f.value.A1=x.data.A1,f.value.B1=x.data.B1,f.value.C1=x.data.C1,f.value.D1=x.data.D1}).catch(x=>{x.response.status==401?T.push({name:"admin login"}):R.add({msg:x.response.data,duration:4e3})})});async function S(){D.value=!0,await P({method:"post",url:"https://nxgen-backend.onrender.com/api/v2/enable-post-test",headers:{Authorization:`Bearer ${localStorage.getItem("ncpadmin_token")}`,Role:"admin"},data:{A1:f.value.A1,B1:f.value.B1,C1:f.value.C1,D1:f.value.D1}}).then(()=>{R.add({msg:"Post test availablity updated",duration:4e3})}).catch(x=>{x.response.status==401?T.push({name:"admin login"}):R.add({msg:x.response.data,duration:4e3})}).finally(()=>D.value=!1)}return(x,h)=>{const u=C("VIconButton"),V=C("VLoader"),y=C("VButton"),_=C("VModal");return s(),l("div",{class:A([{"overflow-y-scroll":x.$route.name!=="admin login"},"flex h-[100svh] flex-col"]),ref_key:"scrollStore",ref:Y},[x.$route.name!=="admin login"?(s(),l("div",re,[e("div",null,[e("button",{onClick:h[0]||(h[0]=i=>$()),class:"text-2xl"},"NxGen Admin")]),e("div",ie,[e("button",{onClick:h[1]||(h[1]=i=>E(M).set(0)),class:A([[E(M).index===0?"active":""],"relative flex items-center justify-center rounded-lg px-6 py-1 transition-colors hover:bg-neutral-400/20"])},de,2),e("button",{onClick:h[2]||(h[2]=i=>E(M).set(1)),class:A([[E(M).index===1?"active":""],"relative flex items-center justify-center rounded-lg px-6 py-1 transition-colors hover:bg-neutral-400/20"])},_e,2),e("button",{onClick:h[3]||(h[3]=i=>E(M).set(2)),class:A([[E(M).index===2?"active":""],"relative flex items-center justify-center rounded-lg px-6 py-1 transition-colors hover:bg-neutral-400/20"])},he,2)]),e("div",be,[m(u,{onClick:h[4]||(h[4]=i=>d.value.settingsToggle()),variant:"ghost",size:"lg",icon:"settings"})])])):O("",!0),e("div",xe,[te(x.$slots,"default",{},void 0,!0)]),m(_,{"go-open":d.value.settingsModal,"onUpdate:goOpen":h[12]||(h[12]=i=>d.value.settingsModal=i),"click-outside":!1},{default:B(()=>[e("div",ve,[e("div",ge,[me,m(u,{onClick:h[5]||(h[5]=i=>d.value.settingsToggle()),variant:"ghost",size:"lg",icon:"close"})]),e("div",fe,[e("div",null,[we,e("div",ye,[e("label",ke,[U(e("input",{"onUpdate:modelValue":h[6]||(h[6]=i=>f.value.A1=i),type:"checkbox",class:"cursor-pointer"},null,512),[[H,f.value.A1]]),r(" 1A ")]),e("label",$e,[U(e("input",{"onUpdate:modelValue":h[7]||(h[7]=i=>f.value.B1=i),type:"checkbox",class:"cursor-pointer"},null,512),[[H,f.value.B1]]),r(" 1B ")]),e("label",Ae,[U(e("input",{"onUpdate:modelValue":h[8]||(h[8]=i=>f.value.C1=i),type:"checkbox",class:"cursor-pointer"},null,512),[[H,f.value.C1]]),r(" 1C ")]),e("label",Ce,[U(e("input",{"onUpdate:modelValue":h[9]||(h[9]=i=>f.value.D1=i),type:"checkbox",class:"cursor-pointer"},null,512),[[H,f.value.D1]]),r(" 1D ")])])]),m(y,{onClick:h[10]||(h[10]=i=>S()),disabled:D.value,class:"w-[81px] justify-center"},{default:B(()=>[D.value?(s(),z(V,{key:0,size:"16px",thickness:"2px"})):(s(),l("span",Te,"Update"))]),_:1},8,["disabled"])]),Ve,m(y,{onClick:h[11]||(h[11]=i=>I()),disabled:k.value,color:"warning",class:"justify-center"},{default:B(()=>[k.value?(s(),z(V,{key:0,size:"16px",thickness:"2px"})):(s(),l("span",Se,"Logout"))]),_:1},8,["disabled"])])]),_:1},8,["go-open"])],2)}}},De=K(je,[["__scopeId","data-v-3a90d06c"]]);function Z(L,T=500){let d;return function(...$){clearTimeout(d),d=setTimeout(()=>{L(...$)},T)}}const Be={class:"w-full"},Le={class:"sticky top-[68.5px] flex w-full flex-row items-center gap-6 bg-blue-50 px-4 py-2"},Ge=e("h3",null,"Test History",-1),Ie={class:"flex flex-row items-center gap-2"},Me=e("span",{class:"text-sm text-neutral-600 lg:text-base"},"Section",-1),Re={class:"flex flex-row items-center gap-2"},Ee=e("span",{class:"text-sm text-neutral-600 lg:text-base"},"Type",-1),Pe={class:"w-full table-fixed"},ze=e("tr",{class:"sticky top-[138px] bg-blue-200"},[e("th",{class:"w-16"},"#"),e("th",{class:"px-6 py-4 text-start"},"Name"),e("th",{class:"px-6 py-4 text-start"},"Section"),e("th",{class:"px-6 py-4 text-start"},"Type"),e("th",{class:"px-6 py-4 text-start"},"Score"),e("th",{class:"px-6 py-4 text-start"},"Date Taken"),e("th",{class:"px-6 py-4"},"Answers")],-1),Ue={key:0},Ne={colspan:"7"},He={class:"flex w-full items-center justify-center py-6"},Oe={class:"w-16 text-center"},Fe={class:"max-w-[200px] truncate px-6 py-1 text-start"},qe={class:"px-6 py-1 text-start"},Ye={class:"px-6 py-1 text-start"},Ke={class:"px-6 py-1 text-start"},We={class:"px-6 py-1 text-start"},Je={class:"px-6 py-1"},Qe={class:"flex h-full w-full flex-row items-center justify-center"},Xe={key:2},Ze=e("td",{colspan:"7"},[e("div",{class:"flex w-full items-center justify-center py-6"},"No entries found")],-1),et=[Ze],tt={colspan:"7"},st={class:"flex w-full items-center justify-center py-6"},lt={class:"flex max-h-[calc(100svh-32px)] flex-col overflow-y-auto overflow-x-hidden px-4 pb-4"},nt={class:"sticky top-0 flex flex-row items-center justify-between bg-blue-50 py-4"},ot=e("h2",{class:"leading-none"},"Answers",-1),at={class:"max-w-[560px]"},rt={clas:"flex flex-col gap-1"},it={key:0},ct={key:1},dt=e("hr",{class:"mx-2 my-4 border-neutral-300"},null,-1),ut={__name:"TestHistoryTab",setup(L){const T=F(),d=w([]),$=w([]),k=w(!0),I=w(!0),D=w(null),f=w(null),S=w({text:"",section:"All",type:"All"}),x=Z(async(V,y,_)=>{($.value.length===50||$.value.length===0)&&await P({method:"get",url:"https://nxgen-backend.onrender.com/api/v2/history/test/search",headers:{Authorization:`Bearer ${localStorage.getItem("ncpadmin_token")}`,Role:"admin"},params:{search:V,section:y,testType:_==="Pre test"?"PRETEST":_==="Post test"?"POSTTEST":"All",cursor:f.value}}).then(i=>{$.value=i.data,d.value.push(...$.value),k.value=!1,i.data.length>0&&(f.value=i.data[i.data.length-1].id),i.data.length<50&&(I.value=!1)}).catch(i=>{i.response.status==401?T.push({name:"admin login"}):R.add({msg:i.response.data,duration:4e3})}).finally(()=>k.value=!1)});q(()=>{W(()=>{$.value=[],d.value=[],k.value=!0,f.value=null,x(S.value.text,S.value.section,S.value.type)});let V=!1;Y.value.addEventListener("scroll",()=>{let y=window.innerHeight;D.value.getBoundingClientRect().top+D.value.offsetHeight/2<y&&!V&&(window.requestAnimationFrame(async()=>{x(),V=!1}),V=!0)})});const h=w({answers:null,name:"",testType:""}),u=w({showAnswersModal:!1,showAnswersOpen(V,y,_){h.value={answers:V,name:y,testType:_},this.showAnswersModal=!0},showAnswersClose(){this.showAnswersModal=!1}});return(V,y)=>{const _=C("VFormTextbox"),i=C("VSelect"),j=C("VLoader"),b=C("VButton"),g=C("VIconButton"),G=C("VModal");return s(),l("div",Be,[e("div",Le,[Ge,m(_,{modelValue:S.value.text,"onUpdate:modelValue":y[0]||(y[0]=o=>S.value.text=o),placeholder:"Search for Name",class:"w-72"},null,8,["modelValue"]),e("div",Ie,[Me,m(i,{modelValue:S.value.section,"onUpdate:modelValue":y[1]||(y[1]=o=>S.value.section=o),options:["All","1A","1B","1C","1D"],class:"w-20"},null,8,["modelValue"])]),e("div",Re,[Ee,m(i,{modelValue:S.value.type,"onUpdate:modelValue":y[2]||(y[2]=o=>S.value.type=o),options:["All","Pre test","Post test"],class:"w-32"},null,8,["modelValue"])])]),e("table",Pe,[ze,k.value?(s(),l("tr",Ue,[e("td",Ne,[e("div",He,[m(j,{size:"40px",thickness:"2px"})])])])):d.value.length>0?(s(!0),l(a,{key:1},v(d.value,(o,p)=>(s(),l("tr",{key:p,class:"text-center odd:bg-blue-100"},[e("td",Oe,n(p+1),1),e("td",Fe,n(o.name),1),e("td",qe,n(o.section),1),e("td",Ye,n(o.testType),1),e("td",Ke,n(o.score),1),e("td",We,n(new Date(o.dateTaken).toLocaleString().replace(","," -")),1),e("td",Je,[e("div",Qe,[m(b,{onClick:t=>u.value.showAnswersOpen(o.answers,o.name,o.testType),variant:"filled","start-icon":"visibility",color:"success"},{default:B(()=>[r(" Show ")]),_:2},1032,["onClick"])])])]))),128)):(s(),l("tr",Xe,et)),U(e("tr",{ref_key:"moreLoadingRef",ref:D},[e("td",tt,[e("div",st,[m(j,{size:"40px",thickness:"2px"})])])],512),[[J,I.value&&!k.value]])]),m(G,{"go-open":u.value.showAnswersModal,"onUpdate:goOpen":y[4]||(y[4]=o=>u.value.showAnswersModal=o),"click-outside":!1},{default:B(()=>[e("div",lt,[e("div",nt,[e("div",null,[ot,e("span",null,n(h.value.testType+" - "+h.value.name),1)]),m(g,{onClick:y[3]||(y[3]=o=>u.value.showAnswersClose()),variant:"ghost",size:"lg",icon:"close"})]),(s(!0),l(a,null,v(h.value.answers,(o,p)=>(s(),l("div",{key:p,class:"flex flex-col"},[e("span",at,n(`${p+1}. ${o.question}`),1),e("div",rt,[Array.isArray(o.answer)?(s(),l("b",it,[r(" Answer/s: "),(s(!0),l(a,null,v(o.answer,(t,c)=>(s(),l("span",{key:c},n(t+`${c+1!==o.answer.length?", ":"."}`),1))),128))])):(s(),l("b",ct,[r(" Answer: "),e("span",null,n(o.answer)+".",1)]))]),dt]))),128))])]),_:1},8,["go-open"])])}}},_t={class:"w-full"},pt={class:"sticky top-[68.5px] flex w-full flex-row items-center gap-6 bg-blue-50 px-4 py-2"},ht=e("h3",null,"Case Scenario History",-1),bt={class:"flex flex-row items-center gap-2"},xt=e("span",{class:"text-sm text-neutral-600 lg:text-base"},"Section",-1),vt={class:"flex flex-row items-center gap-2"},gt=e("span",{class:"text-sm text-neutral-600 lg:text-base"},"Category",-1),mt={class:"w-full table-fixed"},ft=e("tr",{class:"sticky top-[138px] bg-blue-200"},[e("th",{class:"w-16"},"#"),e("th",{class:"px-6 py-4 text-start"},"Name"),e("th",{class:"px-6 py-4 text-start"},"Section"),e("th",{class:"px-6 py-4 text-start"},"Category"),e("th",{class:"px-6 py-4 text-start"},"Case ID"),e("th",{class:"px-6 py-4 text-start"},"Times Taken"),e("th",{class:"px-6 py-4 text-start"},"Date Taken"),e("th",{class:"px-6 py-4"},"Answers"),e("th",{class:"px-6 py-4"},"Nursing Care Plan")],-1),wt={key:0},yt={colspan:"9"},kt={class:"flex w-full items-center justify-center py-6"},$t={class:"w-16 text-center"},At={class:"max-w-[200px] truncate px-6 py-1 text-start"},Ct={class:"px-6 py-1 text-start"},Tt={class:"px-6 py-1 text-start"},Vt={class:"px-6 py-1 text-start"},St={class:"px-6 py-1 text-start"},jt={class:"px-6 py-1 text-start"},Dt={class:"px-6 py-1 text-start"},Bt={class:"flex h-full w-full flex-row items-center justify-center"},Lt={class:"px-6 py-1"},Gt={class:"flex h-full w-full flex-row items-center justify-center"},It={key:2},Mt=e("td",{colspan:"9"},[e("div",{class:"flex w-full items-center justify-center py-6"},"No entries found")],-1),Rt=[Mt],Et={colspan:"9"},Pt={class:"flex w-full items-center justify-center py-6"},zt={class:"flex max-h-[calc(100svh-32px)] flex-col overflow-y-auto overflow-x-hidden px-4 pb-4"},Ut={class:"sticky top-0 z-10 flex flex-row items-center justify-between bg-blue-50 py-4"},Nt=e("div",null,[e("h2",{class:"leading-none"},"Answers")],-1),Ht={key:0,class:"relative flex flex-col"},Ot=e("h2",null,"Assessment",-1),Ft={class:"flex flex-col gap-2 px-2"},qt=e("h3",null,"Subjective",-1),Yt=e("h3",null,"Objectives",-1),Kt={class:"list-disc pl-4"},Wt=e("hr",{class:"my-4"},null,-1),Jt=e("h2",null,"Nursing Diagnosis",-1),Qt={class:"px-2"},Xt=e("hr",{class:"my-4"},null,-1),Zt=e("h2",null,"Planning",-1),es={class:"flex flex-col gap-2 px-2"},ts=e("h3",null,"Short Term Goals",-1),ss={class:"list-disc pl-4"},ls=e("h3",null,"Long Term Goals",-1),ns={class:"list-disc pl-4"},os=e("hr",{class:"my-4"},null,-1),as=e("h2",null,"Interventions and Rationale",-1),rs={class:"flex flex-col gap-4 px-2 pt-2"},is={class:"w-full table-fixed"},cs=e("tr",null,[e("th",{class:"border border-black"},"Independents"),e("th",{class:"border border-black"},"Rationale")],-1),ds={class:"border border-black p-2"},us={class:"border border-black p-2"},_s={class:"w-full table-fixed"},ps=e("tr",null,[e("th",{class:"border border-black"},"Dependents"),e("th",{class:"border border-black"},"Rationale")],-1),hs={class:"border border-black p-2"},bs={class:"border border-black p-2"},xs={class:"w-full table-fixed"},vs=e("tr",null,[e("th",{class:"border border-black"},"Collaborative"),e("th",{class:"border border-black"},"Rationale")],-1),gs={class:"border border-black p-2"},ms={class:"border border-black p-2"},fs={key:1,class:"flex flex-col"},ws=e("h2",null,"Assessment",-1),ys={class:"flex flex-col gap-2 px-2"},ks=e("h3",null,"Subjective",-1),$s=e("h3",null,"Objectives",-1),As={class:"list-disc pl-4"},Cs=e("hr",{class:"my-4"},null,-1),Ts=e("h2",null,"Nursing Diagnosis",-1),Vs={class:"px-2"},Ss=e("hr",{class:"my-4"},null,-1),js=e("h2",null,"Planning",-1),Ds={class:"flex flex-col gap-2 px-2"},Bs=e("h3",null,"Short Term Goals",-1),Ls={class:"list-disc pl-4"},Gs=e("h3",null,"Long Term Goals",-1),Is={class:"list-disc pl-4"},Ms=e("hr",{class:"my-4"},null,-1),Rs=e("h2",null,"Interventions and Rationale",-1),Es={class:"flex flex-col gap-4 px-2 pt-2"},Ps={class:"w-full table-fixed"},zs=e("tr",null,[e("th",{class:"border border-black"},"Independents"),e("th",{class:"border border-black"},"Rationale")],-1),Us={class:"w-full table-fixed"},Ns=e("tr",null,[e("th",{class:"border border-black"},"Dependents"),e("th",{class:"border border-black"},"Rationale")],-1),Hs={class:"w-full table-fixed"},Os=e("tr",null,[e("th",{class:"border border-black"},"Collaborative"),e("th",{class:"border border-black"},"Rationale")],-1),Fs={key:0,class:"hidden w-full table-fixed border-collapse border border-black bg-white font-['Times'] text-[15px] text-black",id:"table"},qs=e("tr",null,[e("th",{class:"border border-black px-2 pb-6 pt-2 text-center"},"Assessment"),e("th",{class:"border border-black px-2 pb-6 pt-2 text-center"},"Nursing Diagnosis"),e("th",{class:"border border-black px-2 pb-6 pt-2 text-center"},"Planning"),e("th",{class:"border border-black px-2 pb-6 pt-2 text-center"},"Intervention"),e("th",{class:"border border-black px-2 pb-6 pt-2 text-center"},"Rationale"),e("th",{class:"border border-black px-2 pb-6 pt-2 text-center"},"Evaluation")],-1),Ys={class:"border border-black px-4 py-2 text-start align-top"},Ks=e("br",null,null,-1),Ws=e("br",null,null,-1),Js=e("br",null,null,-1),Qs=e("br",null,null,-1),Xs=e("br",null,null,-1),Zs=e("br",null,null,-1),el=e("br",null,null,-1),tl={class:"border border-black px-4 py-2 text-start align-top"},sl={class:"border border-black px-4 py-2 text-start align-top"},ll=e("br",null,null,-1),nl=e("br",null,null,-1),ol=e("br",null,null,-1),al=e("br",null,null,-1),rl=e("br",null,null,-1),il=e("br",null,null,-1),cl=e("br",null,null,-1),dl=e("br",null,null,-1),ul=e("br",null,null,-1),_l=e("br",null,null,-1),pl=e("br",null,null,-1),hl=e("br",null,null,-1),bl=e("br",null,null,-1),xl={class:"border border-black px-4 py-2 text-start align-top"},vl=e("br",null,null,-1),gl=e("br",null,null,-1),ml=e("br",null,null,-1),fl=e("br",null,null,-1),wl=e("br",null,null,-1),yl=e("br",null,null,-1),kl=e("br",null,null,-1),$l=e("br",null,null,-1),Al=e("br",null,null,-1),Cl=e("br",null,null,-1),Tl=e("br",null,null,-1),Vl=e("br",null,null,-1),Sl=e("br",null,null,-1),jl=e("br",null,null,-1),Dl={class:"border border-black px-4 py-2 text-start align-top"},Bl=e("br",null,null,-1),Ll=e("br",null,null,-1),Gl=e("br",null,null,-1),Il=e("br",null,null,-1),Ml=e("br",null,null,-1),Rl=e("br",null,null,-1),El=e("br",null,null,-1),Pl=e("br",null,null,-1),zl=e("br",null,null,-1),Ul=e("br",null,null,-1),Nl=e("br",null,null,-1),Hl=e("br",null,null,-1),Ol=e("br",null,null,-1),Fl=e("br",null,null,-1),ql={class:"border border-black px-4 py-2 text-start align-top"},Yl=e("br",null,null,-1),Kl=e("br",null,null,-1),Wl=e("br",null,null,-1),Jl=e("br",null,null,-1),Ql=e("br",null,null,-1),Xl=e("br",null,null,-1),Zl=e("br",null,null,-1),en=e("br",null,null,-1),tn=e("br",null,null,-1),sn=e("br",null,null,-1),ln=e("br",null,null,-1),nn=e("br",null,null,-1),on=e("br",null,null,-1),an=e("br",null,null,-1),rn=e("br",null,null,-1),cn=e("br",null,null,-1),dn=e("br",null,null,-1),un=e("br",null,null,-1),_n=e("br",null,null,-1),pn=e("br",null,null,-1),hn=e("br",null,null,-1),bn=e("br",null,null,-1),xn=e("br",null,null,-1),vn={__name:"CaseScenarioHistoryTab",setup(L){const T=F(),d=w(null),$=w([]),k=w([]),I=w(!0),D=w(!0),f=w(null),S=w(null),x=w({text:"",section:"All",category:"All"}),h=Z(async(_,i,j)=>{(k.value.length===50||k.value.length===0)&&await P({method:"get",url:"https://nxgen-backend.onrender.com/api/v2/history/case-scenario/search",headers:{Authorization:`Bearer ${localStorage.getItem("ncpadmin_token")}`,Role:"admin"},params:{search:_,section:i,category:j,cursor:S.value}}).then(b=>{k.value=b.data,$.value.push(...k.value),b.data.length>0&&(S.value=b.data[b.data.length-1].id),b.data.length<50&&(D.value=!1)}).catch(b=>{b.response.status==401?T.push({name:"admin login"}):R.add({msg:b.response.data,duration:4e3}),D.value=!1}).finally(()=>I.value=!1)});q(()=>{W(()=>{k.value=[],$.value=[],I.value=!0,S.value=null,h(x.value.text,x.value.section,x.value.category)});let _=!1;Y.value.addEventListener("scroll",()=>{let i=window.innerHeight;f.value.getBoundingClientRect().top+f.value.offsetHeight/2<i&&!_&&(window.requestAnimationFrame(async()=>{h(),_=!1}),_=!0)})});const u=ne({answers:null,parsedAnswers:null,isLoading:!1,async goParse(_,i,j){this.isLoading=!0,await P({method:"get",url:`https://nxgen-backend.onrender.com/api/v2/case-scenarios/${i}/${j}`,headers:{Authorization:`Bearer ${localStorage.getItem("ncpadmin_token")}`,Role:"admin"}}).then(b=>{let g={},G=b.data.nursing_diagnosis.diagnosis.texts.map(o=>o.text).indexOf(_.diagnosis);g.subjective={answer:_.subjective,isCorrect:_.subjective===b.data.assessment.subjectives.correctValue},g.objectives=[],_.objective.forEach(o=>{b.data.assessment.objectives.forEach(p=>{o===p.text&&g.objectives.push({answer:o,isCorrect:p.isCorrect})})}),g.diagnosis={answer:_.diagnosis,isCorrect:_.diagnosis===b.data.nursing_diagnosis.diagnosis.correctValue},g.relatedTo={answer:_.relatedTo,isCorrect:_.relatedTo===b.data.nursing_diagnosis.relatedTo.correctValue},g.signsAndSymptoms=[],_.signsAndSymptoms.forEach(o=>{b.data.nursing_diagnosis.signsAndSymptoms.forEach(p=>{o===p.text&&g.signsAndSymptoms.push({answer:o,isCorrect:p.isCorrect})})}),g.shortTermGoals=[],_.shortTermGoal.forEach(o=>{b.data.planning.shortTermGoals.forEach(p=>{o===p.text&&g.shortTermGoals.push({answer:o,isCorrect:p.isCorrect})})}),g.longTermGoals=[],_.longTermGoal.forEach(o=>{b.data.planning.longTermGoals.forEach(p=>{o===p.text&&g.longTermGoals.push({answer:o,isCorrect:p.isCorrect})})}),g.independents=[],_.independent.forEach((o,p)=>{b.data.nursing_diagnosis.diagnosis.texts[G].intervention.independents.forEach((t,c)=>{o.split("::")[0]===t.text&&g.independents.push({answer:o,isCorrect:t.isCorrect&&p===c,rationaleCorrect:o.split("::")[1]===t.rationale&&t.isCorrect,order:c+1})})}),g.dependents=[],_.dependent.forEach((o,p)=>{b.data.nursing_diagnosis.diagnosis.texts[G].intervention.dependents.forEach((t,c)=>{o.split("::")[0]===t.text&&g.dependents.push({answer:o,isCorrect:t.isCorrect&&p===c,rationaleCorrect:o.split("::")[1]===t.rationale&&t.isCorrect,order:c+1})})}),g.collaboratives=[],_.collaborative.forEach(o=>{b.data.nursing_diagnosis.diagnosis.texts[G].intervention.collaboratives.forEach((p,t)=>{o.split("::")[0]===p.text&&g.collaboratives.push({answer:o,isCorrect:p.isCorrect,rationaleCorrect:o.split("::")[1]===p.rationale&&p.isCorrect})})}),this.parsedAnswers=g}).catch(b=>{console.log(b),b.response.status==401?T.push({name:"admin login"}):R.add({msg:b.response.data,duration:4e3})}).finally(()=>this.isLoading=!1)},name:""}),V=w({showAnswersModal:!1,showAnswersOpen(_,i,j,b){u.answers=_,u.name=i,u.goParse(_,j,b),this.showAnswersModal=!0},showAnswersClose(){setTimeout(()=>{u.answers=null,u.parsedAnswers=null,u.name=null},150),this.showAnswersModal=!1}});async function y(_,i,j,b,g,G){await P({method:"get",url:`https://nxgen-backend.onrender.com/api/v2/history/case-scenario/${_}`,headers:{Authorization:`Bearer ${localStorage.getItem("ncpadmin_token")}`,Role:"admin"}}).then(o=>(d.value=o.data,d.value)).then(o=>{let p=[];p.push(o.score.assessment),p.push(o.score.nursingDiagnosis),p.push(o.score.planning),p.push(o.score.intervention),p.push(o.score.evaluation),p.push(o.score.overall),oe(i,j,b,g,new Date(G).toLocaleString().replace(","," -"),p)}).catch(o=>{o.response.status==401?T.push({name:"admin login"}):R.add({msg:o.response.data,duration:4e3})})}return(_,i)=>{const j=C("VFormTextbox"),b=C("VSelect"),g=C("VLoader"),G=C("VButton"),o=C("VIconButton"),p=C("VModal");return s(),l("div",_t,[e("div",pt,[ht,m(j,{modelValue:x.value.text,"onUpdate:modelValue":i[0]||(i[0]=t=>x.value.text=t),placeholder:"Search for Name or Case ID",class:"w-72"},null,8,["modelValue"]),e("div",bt,[xt,m(b,{modelValue:x.value.section,"onUpdate:modelValue":i[1]||(i[1]=t=>x.value.section=t),options:["All","1A","1B","1C","1D"],class:"w-20"},null,8,["modelValue"])]),e("div",vt,[gt,m(b,{modelValue:x.value.category,"onUpdate:modelValue":i[2]||(i[2]=t=>x.value.category=t),options:["All","Neuro","Etc."],class:"w-40"},null,8,["modelValue","options"])])]),e("table",mt,[ft,I.value?(s(),l("tr",wt,[e("td",yt,[e("div",kt,[m(g,{size:"40px",thickness:"2px"})])])])):$.value.length>0?(s(!0),l(a,{key:1},v($.value,(t,c)=>(s(),l("tr",{key:c,class:"text-center odd:bg-blue-100"},[e("td",$t,n(c+1),1),e("td",At,n(t.name),1),e("td",Ct,n(t.section),1),e("td",Tt,n(t.category),1),e("td",Vt,n(t.caseId),1),e("td",St,n(t.timesTaken),1),e("td",jt,n(new Date(t.dateTaken).toLocaleString().replace(","," -")),1),e("td",Dt,[e("div",Bt,[m(G,{onClick:ee=>V.value.showAnswersOpen(t.answers,t.name,t.category,t.caseId),variant:"filled","start-icon":"visibility",color:"success"},{default:B(()=>[r(" Show ")]),_:2},1032,["onClick"])])]),e("td",Lt,[e("div",Gt,[m(G,{onClick:ee=>y(t.id,t.name,t.category,t.caseId,t.timesTaken,t.dateTaken),variant:"filled","start-icon":"print",color:"success"},{default:B(()=>[r(" Print ")]),_:2},1032,["onClick"])])])]))),128)):(s(),l("tr",It,Rt)),U(e("tr",{ref_key:"moreLoadingRef",ref:f},[e("td",Et,[e("div",Pt,[m(g,{size:"40px",thickness:"2px"})])])],512),[[J,D.value&&!I.value]])]),m(p,{"go-open":V.value.showAnswersModal,"onUpdate:goOpen":i[4]||(i[4]=t=>V.value.showAnswersModal=t),"click-outside":!1},{default:B(()=>[e("div",zt,[e("div",Ut,[Nt,m(o,{onClick:i[3]||(i[3]=t=>V.value.showAnswersClose()),variant:"ghost",size:"lg",icon:"close"})]),u.answers&&!u.parsedAnswers?(s(),l("div",Ht,[e("div",null,[Ot,e("div",Ft,[e("div",null,[qt,e("p",null,n(u.answers.subjective),1)]),e("div",null,[Yt,e("ul",Kt,[(s(!0),l(a,null,v(u.answers.objective,t=>(s(),l("li",{key:t},n(t),1))),128))])])])]),Wt,e("div",null,[Jt,e("div",Qt,[e("p",null,[e("span",null,n(u.answers.diagnosis),1),r(" related to "),e("span",null,n(u.answers.relatedTo),1),r(" as evidenced by "),(s(!0),l(a,null,v(u.answers.signsAndSymptoms,(t,c)=>(s(),l("span",{key:t},n(`${t}${c+1<u.answers.signsAndSymptoms.length?", ":"."}`),1))),128))])])]),Xt,e("div",null,[Zt,e("div",es,[e("div",null,[ts,e("ul",ss,[(s(!0),l(a,null,v(u.answers.shortTermGoal,t=>(s(),l("li",{key:t},n(t),1))),128))])]),e("div",null,[ls,e("ul",ns,[(s(!0),l(a,null,v(u.answers.longTermGoal,t=>(s(),l("li",{key:t},n(t),1))),128))])])])]),os,e("div",null,[as,e("div",rs,[e("table",is,[cs,(s(!0),l(a,null,v(u.answers.independent,t=>(s(),l("tr",{key:t},[e("td",ds,n(t.split("::")[0]),1),e("td",us,n(t.split("::")[0]),1)]))),128))]),e("table",_s,[ps,(s(!0),l(a,null,v(u.answers.dependent,t=>(s(),l("tr",{key:t},[e("td",hs,n(t.split("::")[0]),1),e("td",bs,n(t.split("::")[0]),1)]))),128))]),e("table",xs,[vs,(s(!0),l(a,null,v(u.answers.collaborative,t=>(s(),l("tr",{key:t},[e("td",gs,n(t.split("::")[0]),1),e("td",ms,n(t.split("::")[0]),1)]))),128))])])]),m(g,{size:"40px",thickness:"2px",class:"fixed right-4 top-[68px]"})])):u.parsedAnswers?(s(),l("div",fs,[e("div",null,[ws,e("div",ys,[e("div",null,[ks,e("p",{class:A(u.parsedAnswers.subjective.isCorrect?"text-emerald-500":"text-red-400")},n(u.parsedAnswers.subjective.answer),3)]),e("div",null,[$s,e("ul",As,[(s(!0),l(a,null,v(u.parsedAnswers.objectives,t=>(s(),l("li",{class:A(t.isCorrect?"text-emerald-500":"text-red-400"),key:t},n(t.answer),3))),128))])])])]),Cs,e("div",null,[Ts,e("div",Vs,[e("p",null,[e("span",{class:A(u.parsedAnswers.diagnosis.isCorrect?"text-emerald-500":"text-red-400")},n(u.parsedAnswers.diagnosis.answer),3),r(" related to "),e("span",{class:A(u.parsedAnswers.relatedTo.isCorrect?"text-emerald-500":"text-red-400")},n(u.parsedAnswers.relatedTo.answer),3),r(" as evidenced by "),(s(!0),l(a,null,v(u.parsedAnswers.signsAndSymptoms,(t,c)=>(s(),l("span",{key:t,class:A(t.isCorrect?"text-emerald-500":"text-red-400")},n(`${t.answer}${c+1<u.parsedAnswers.signsAndSymptoms.length?", ":"."}`),3))),128))])])]),Ss,e("div",null,[js,e("div",Ds,[e("div",null,[Bs,e("ul",Ls,[(s(!0),l(a,null,v(u.parsedAnswers.shortTermGoals,t=>(s(),l("li",{key:t,class:A(t.isCorrect?"text-emerald-500":"text-red-400")},n(t.answer),3))),128))])]),e("div",null,[Gs,e("ul",Is,[(s(!0),l(a,null,v(u.parsedAnswers.longTermGoals,t=>(s(),l("li",{key:t,class:A(t.isCorrect?"text-emerald-500":"text-red-400")},n(t.answer),3))),128))])])])]),Ms,e("div",null,[Rs,e("div",Es,[e("table",Ps,[zs,(s(!0),l(a,null,v(u.parsedAnswers.independents,t=>(s(),l("tr",{key:t},[e("td",{class:A(["border border-black p-2",t.isCorrect?"text-emerald-500":"text-red-400"])},n(t.order)+". "+n(t.answer.split("::")[0]),3),e("td",{class:A(["border border-black p-2",t.rationaleCorrect?"text-emerald-500":"text-red-400"])},n(t.answer.split("::")[1]),3)]))),128))]),e("table",Us,[Ns,(s(!0),l(a,null,v(u.parsedAnswers.dependents,t=>(s(),l("tr",{key:t},[e("td",{class:A(["border border-black p-2",t.isCorrect?"text-emerald-500":"text-red-400"])},n(t.order)+". "+n(t.answer.split("::")[0]),3),e("td",{class:A(["border border-black p-2",t.rationaleCorrect?"text-emerald-500":"text-red-400"])},n(t.answer.split("::")[1]),3)]))),128))]),e("table",Hs,[Os,(s(!0),l(a,null,v(u.parsedAnswers.collaboratives,t=>(s(),l("tr",{key:t},[e("td",{class:A(["border border-black p-2",t.isCorrect?"text-emerald-500":"text-red-400"])},n(t.answer.split("::")[0]),3),e("td",{class:A(["border border-black p-2",t.rationaleCorrect?"text-emerald-500":"text-red-400"])},n(t.answer.split("::")[1]),3)]))),128))])])])])):O("",!0)])]),_:1},8,["go-open"]),d.value?(s(),l("table",Fs,[qs,e("tr",null,[e("td",Ys,[r(" Subjective:"),Ks,r(" - "+n(d.value.answers.subjective)+" ",1),Ws,Js,r(" Objective:"),Qs,(s(!0),l(a,null,v(d.value.answers.objective,(t,c)=>(s(),l(a,{key:c},[c+1!==d.value.answers.objective.length?(s(),l(a,{key:0},[r(" • "+n(t)+" ",1),Xs,Zs],64)):(s(),l(a,{key:1},[r(" • "+n(t)+" ",1),el],64))],64))),128))]),e("td",tl,[r(n(`${d.value.answers.diagnosis} related to ${d.value.answers.relatedTo} as evidenced by`)+" ",1),(s(!0),l(a,null,v(d.value.answers.signsAndSymptoms,(t,c)=>(s(),l("span",{key:c},n(`${t}${c+1<d.value.answers.signsAndSymptoms.length?", ":"."}`),1))),128))]),e("td",sl,[r(" Short Term Goal:"),ll,r(" - "+n(d.value.answers.shortTermGoalsDesc),1),nl,ol,(s(!0),l(a,null,v(d.value.answers.shortTermGoal,(t,c)=>(s(),l(a,{key:c},[c+1!==d.value.answers.shortTermGoal.length?(s(),l(a,{key:0},[r(" • "+n(t)+" ",1),al,rl],64)):(s(),l(a,{key:1},[r(" • "+n(t)+" ",1),il],64))],64))),128)),cl,r("Long Term Goal:"),dl,r(" - "+n(d.value.answers.longTermGoalsDesc),1),ul,_l,(s(!0),l(a,null,v(d.value.answers.longTermGoal,(t,c)=>(s(),l(a,{key:c},[c+1!==d.value.answers.longTermGoal.length?(s(),l(a,{key:0},[r(" • "+n(t)+" ",1),pl,hl],64)):(s(),l(a,{key:1},[r(" • "+n(t)+" ",1),bl],64))],64))),128))]),e("td",xl,[r(" Independent:"),vl,(s(!0),l(a,null,v(d.value.answers.independent,(t,c)=>(s(),l(a,{key:c},[c+1!==d.value.answers.independent.length?(s(),l(a,{key:0},[r(" • "+n(t.split("::")[0])+" ",1),gl,ml],64)):(s(),l(a,{key:1},[r(" • "+n(t.split("::")[0])+" ",1),fl],64))],64))),128)),wl,r("Dependent:"),yl,(s(!0),l(a,null,v(d.value.answers.dependent,(t,c)=>(s(),l(a,{key:c},[c+1!==d.value.answers.dependent.length?(s(),l(a,{key:0},[r(" • "+n(t.split("::")[0])+" ",1),kl,$l],64)):(s(),l(a,{key:1},[r(" • "+n(t.split("::")[0])+" ",1),Al],64))],64))),128)),Cl,r("Collaborative:"),Tl,(s(!0),l(a,null,v(d.value.answers.collaborative,(t,c)=>(s(),l(a,{key:c},[c+1!==d.value.answers.collaborative.length?(s(),l(a,{key:0},[r(" • "+n(t.split("::")[0])+" ",1),Vl,Sl],64)):(s(),l(a,{key:1},[r(" • "+n(t.split("::")[0])+" ",1),jl],64))],64))),128))]),e("td",Dl,[r(" Independent:"),Bl,(s(!0),l(a,null,v(d.value.answers.independent,(t,c)=>(s(),l(a,{key:c},[c+1!==d.value.answers.independent.length?(s(),l(a,{key:0},[r(" • "+n(t.split("::")[1])+" ",1),Ll,Gl],64)):(s(),l(a,{key:1},[r(" • "+n(t.split("::")[1])+" ",1),Il],64))],64))),128)),Ml,r("Dependent:"),Rl,(s(!0),l(a,null,v(d.value.answers.dependent,(t,c)=>(s(),l(a,{key:c},[c+1!==d.value.answers.dependent.length?(s(),l(a,{key:0},[r(" • "+n(t.split("::")[1])+" ",1),El,Pl],64)):(s(),l(a,{key:1},[r(" • "+n(t.split("::")[1])+" ",1),zl],64))],64))),128)),Ul,r("Collaborative:"),Nl,(s(!0),l(a,null,v(d.value.answers.collaborative,(t,c)=>(s(),l(a,{key:c},[c+1!==d.value.answers.collaborative.length?(s(),l(a,{key:0},[r(" • "+n(t.split("::")[1])+" ",1),Hl,Ol],64)):(s(),l(a,{key:1},[r(" • "+n(t.split("::")[1])+" ",1),Fl],64))],64))),128))]),e("td",ql,[r(" Short Term Goal:"),Yl,r(" - "+n(d.value.answers.shortTermGoalsDesc),1),Kl,Wl,(s(!0),l(a,null,v(d.value.answers.shortTermGoal,(t,c)=>(s(),l(a,{key:c},[r(" • "+n(t)+" ",1),Jl,c+1!==d.value.answers.shortTermGoal.length?(s(),l(a,{key:0},[r(" ___Met "),Ql,r(" ___Partially Met "),Xl,r(" ___Unmet "),Zl,en],64)):(s(),l(a,{key:1},[r(" ___Met "),tn,r(" ___Partially Met "),sn,r(" ___Unmet "),ln],64))],64))),128)),nn,r("Long Term Goal:"),on,r(" - "+n(d.value.answers.longTermGoalsDesc),1),an,rn,(s(!0),l(a,null,v(d.value.answers.longTermGoal,(t,c)=>(s(),l(a,{key:c},[r(" • "+n(t)+" ",1),cn,c+1!==d.value.answers.longTermGoal.length?(s(),l(a,{key:0},[r(" ___Met "),dn,r(" ___Partially Met "),un,r(" ___Unmet "),_n,pn],64)):(s(),l(a,{key:1},[r(" ___Met "),hn,r(" ___Partially Met "),bn,r(" ___Unmet "),xn],64))],64))),128))])])])):O("",!0)])}}},gn={};function mn(L,T){const d=C("router-view");return s(),z(d,null,{default:B(({Component:$,route:k})=>[m(Q,{name:"fade-up",mode:"out-in"},{default:B(()=>[(s(),l("div",{class:"relative flex w-full flex-col",key:k.name},[(s(),z(X($)))]))]),_:2},1024)]),_:1})}const fn=K(gn,[["render",mn]]),yn={__name:"HomePage",setup(L){const T=[fn,vn,ut];return(d,$)=>(s(),z(De,null,{default:B(()=>[m(Q,{name:"fade-up",mode:"out-in"},{default:B(()=>[(s(),z(ae,null,[(s(),z(X(T[E(M).index])))],1024))]),_:1})]),_:1}))}};export{yn as default};
